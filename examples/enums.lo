enum State { None | Loading | Loaded }

main |state: State, input: val| {
    state = State#None;
    State_print(state);
    out("Press enter to load...");
    in(&input);

    state = State#Loading;
    State_print(state);
    wait_s(3);

    state = State#Loaded;
    State_print(state);
}

func State_print(state: State) || match state {
    State#None -> out("None");
    State#Loading -> out("Loading");
    State#Loaded -> out("Loaded");
}
